{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport _ from 'lodash';\nexport var isServer = false;\nexport var sortById = function sortById(a, b) {\n  if (a.id > b.id) {\n    return 1;\n  }\n\n  return -1;\n};\nexport var debounce = function debounce(callback, timeout) {\n  return setTimeout(function () {\n    return callback();\n  }, timeout);\n};\n\nvar getWidth = function getWidth() {\n  return !isServer && window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n};\n\nvar getHeight = function getHeight() {\n  return !isServer && window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n};\n\nexport var useCurrentWidth = function useCurrentWidth() {\n  _s();\n\n  if (isServer) return;\n\n  var _useState = useState(getWidth()),\n      _useState2 = _slicedToArray(_useState, 2),\n      width = _useState2[0],\n      setWidth = _useState2[1];\n\n  useEffect(function () {\n    var timeoutId = null;\n\n    var resizeListener = function resizeListener() {\n      clearTimeout(timeoutId);\n      timeoutId = debounce(function () {\n        return setWidth(getWidth());\n      }, 150);\n    }; // set resize listener\n\n\n    window.addEventListener('resize', resizeListener); // clean up function\n\n    return function () {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n  return width;\n};\n\n_s(useCurrentWidth, \"Vn8IUDjB2XzwPuYK/dvmnbY5A4s=\");\n\nexport var useCurrentHeight = function useCurrentHeight() {\n  _s2();\n\n  if (isServer) return;\n\n  var _useState3 = useState(getHeight()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      height = _useState4[0],\n      setheight = _useState4[1];\n\n  useEffect(function () {\n    var timeoutId = null;\n\n    var resizeListener = function resizeListener() {\n      clearTimeout(timeoutId);\n      timeoutId = debounce(function () {\n        return setheight(getHeight());\n      }, 150);\n    }; // set resize listener\n\n\n    window.addEventListener('resize', resizeListener); // clean up function\n\n    return function () {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n  return height;\n};\n\n_s2(useCurrentHeight, \"Bu2GkHfu+96kN6+JJdmESbDLzHs=\");\n\nexport var getRecorderId = function getRecorderId(listId, cardId, blobUrl) {\n  return \"\".concat(listId || listId === 0 ? \"listId-\".concat(listId, \"-\") : '').concat(cardId || cardId === 0 ? \"_cardId-\".concat(cardId, \"-\") : '').concat(blobUrl);\n};\nexport var supportsMediaRecorder = function supportsMediaRecorder() {\n  if (isServer) return;\n  var navigator = window.navigator;\n  return navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n};\nexport var isArrayEqual = function isArrayEqual(x, y) {\n  var diff = _(x).differenceWith(y, _.isEqual);\n\n  return diff.isEmpty();\n};\nexport var usePrevious = function usePrevious(value) {\n  _s3();\n\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\n_s3(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nexport var randomColor = function randomColor() {\n  return Math.floor(Math.random() * 16777215).toString(16);\n};\nexport var getCursorElement = function getCursorElement(id) {\n  var elementId = 'cursor-' + id;\n  var element = document.getElementById(elementId);\n\n  if (element == null) {\n    element = document.createElement('div');\n    element.id = elementId;\n    element.className = 'cursor';\n    element.style.backgroundColor = randomColor(); // Perhaps you want to attach these elements another parent than document\n\n    document.appendChild(element);\n  }\n\n  return element;\n};","map":{"version":3,"sources":["/Users/mfjvacas/Documents/Dev/GitHub/projects/mapstereo-client/components/helper.ts"],"names":["useState","useEffect","useRef","_","isServer","sortById","a","b","id","debounce","callback","timeout","setTimeout","getWidth","window","innerWidth","document","documentElement","clientWidth","body","getHeight","innerHeight","clientHeight","useCurrentWidth","width","setWidth","timeoutId","resizeListener","clearTimeout","addEventListener","removeEventListener","useCurrentHeight","height","setheight","getRecorderId","listId","cardId","blobUrl","supportsMediaRecorder","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","isArrayEqual","x","y","diff","differenceWith","isEqual","isEmpty","usePrevious","value","ref","current","randomColor","Math","floor","random","toString","getCursorElement","elementId","element","getElementById","createElement","className","style","backgroundColor","appendChild"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport _ from 'lodash';\n\nexport const isServer = typeof window === 'undefined';\n\nexport const sortById = (a, b) => {\n  if (a.id > b.id) {\n    return 1;\n  }\n\n  return -1;\n};\n\nexport const debounce = (callback: any, timeout: number) => {\n  return setTimeout(() => callback(), timeout);\n};\n\nconst getWidth = () =>\n  !isServer && window.innerWidth ||\n  document.documentElement.clientWidth ||\n  document.body.clientWidth;\n\nconst getHeight = () =>\n  !isServer && window.innerHeight ||\n  document.documentElement.clientHeight ||\n  document.body.clientHeight;\n\nexport const useCurrentWidth = () => {\n  if (isServer) return;\n  const [width, setWidth] = useState(getWidth());\n\n  useEffect(() => {\n    let timeoutId = null;\n    const resizeListener = () => {\n      clearTimeout(timeoutId);\n      timeoutId = debounce(() => setWidth(getWidth()), 150);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return width;\n};\n\nexport const useCurrentHeight = () => {\n  if (isServer) return;\n  const [height, setheight] = useState(getHeight());\n\n  useEffect(() => {\n    let timeoutId = null;\n    const resizeListener = () => {\n      clearTimeout(timeoutId);\n      timeoutId = debounce(() => setheight(getHeight()), 150);\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    };\n  }, []);\n\n  return height;\n};\n\nexport const getRecorderId = (\n  listId?: number,\n  cardId?: number,\n  blobUrl?: string\n) =>\n  `${listId || listId === 0 ? `listId-${listId}-` : ''}${\n    cardId || cardId === 0 ? `_cardId-${cardId}-` : ''\n  }${blobUrl}`;\n\n  export const supportsMediaRecorder = () => {\n    if (isServer) return;\n    const navigator = <any>window.navigator;\n\n    return navigator.getUserMedia || navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia || navigator.msGetUserMedia;\n  }\n\n  export const isArrayEqual = (x, y) => {\n    const diff = _(x).differenceWith(y, _.isEqual);\n    \n    return diff.isEmpty();\n  };\n\n  export const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }\n\n  export const randomColor = () => Math.floor(Math.random()*16777215).toString(16);\n\n  export const getCursorElement = (id) => {\n    const elementId = 'cursor-' + id;\n    let element = document.getElementById(elementId);\n    if(element == null) {\n      element = document.createElement('div');\n      element.id = elementId;\n      element.className = 'cursor';\n      element.style.backgroundColor = randomColor();\n      // Perhaps you want to attach these elements another parent than document\n      document.appendChild(element);\n    }\n    return element;\n  }"]},"metadata":{},"sourceType":"module"}